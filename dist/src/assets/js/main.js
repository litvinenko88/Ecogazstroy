document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".mobile-menu-toggle"),n=document.querySelector(".nav-list"),s=document.body;var e=document.createElement("i");e.className="fas fa-times",t.appendChild(e),t.addEventListener("click",function(){n.classList.toggle("active"),this.classList.toggle("active"),s.classList.toggle("no-scroll");var e=this.querySelector("i");n.classList.contains("active")?(e.classList.remove("fa-bars"),e.classList.add("fa-times")):(e.classList.remove("fa-times"),e.classList.add("fa-bars"))}),document.querySelectorAll(".nav-item").forEach(e=>{e.addEventListener("click",function(){n.classList.remove("active"),t.classList.remove("active"),s.classList.remove("no-scroll");var e=t.querySelector("i");e.classList.remove("fa-times"),e.classList.add("fa-bars")})})}),document.addEventListener("DOMContentLoaded",function(){var e;let l=document.getElementById("projectsContainer"),t=document.getElementById("toggleButton"),n=document.getElementById("dsVideoModal"),s=document.getElementById("dsVideoPlayer"),o=document.getElementById("dsCloseModal"),a=document.getElementById("dsPlayPauseBtn"),r=document.getElementById("dsProgressBar"),i=document.getElementById("dsProgressFilled"),c=document.getElementById("dsCurrentTime"),d=document.getElementById("dsTotalTime"),u=document.getElementById("dsFullscreenBtn");function m(e,t,n){let o=document.getElementById(e),l=document.getElementById(t),s=0,a=0;let r,i=!1,c=0,d=0,u=0,m;n.forEach((e,t)=>{var n=document.createElement("div"),s=(n.className="slide",n.style.width="100%",n.style.height="100%",n.style.flexShrink="0",document.createElement("img")),e=(s.src=e.src,s.alt=e.alt,s.style.width="100%",s.style.height="100%",s.style.objectFit="cover",s.draggable=!1,n.appendChild(s),o.appendChild(n),document.createElement("div"));e.className="dot",0===t&&e.classList.add("active"),e.addEventListener("click",()=>{p(t),clearInterval(r),g()}),l.appendChild(e)});o.querySelectorAll(".slide");function p(e){e<0||e>=n.length||(s=e,o.style.transform=`translateX(-${100*s}%)`,d=-s*o.offsetWidth,u=d,l.querySelectorAll(".dot").forEach((e,t)=>{t===s?e.classList.add("active"):e.classList.remove("active")}))}function y(e){let t=s+e;t<0?t=n.length-1:t>=n.length&&(t=0),p(t)}function g(){r=setInterval(()=>{y(1)},4e3)}function v(){o.style.transform=`translateX(${d}px)`,i&&requestAnimationFrame(v)}function h(e){"touchstart"===e.type?a=e.touches[0].clientX:(a=e.clientX,e.preventDefault()),c=a,i=!0,clearInterval(r),m=requestAnimationFrame(v),o.style.cursor="grabbing",o.style.transition="none"}function E(t){if(i){let e;e=("touchmove"===t.type?t.touches[0]:t).clientX,t.preventDefault(),d=u+e-c}}function b(){var e;i&&(i=!1,cancelAnimationFrame(m),o.style.cursor="grab",o.style.transition="transform 0.3s ease-out",(e=d-u)<-100&&s<n.length-1?s+=1:100<e&&0<s&&--s,p(s),g())}return o.addEventListener("touchstart",h,{passive:!1}),o.addEventListener("touchmove",E,{passive:!1}),o.addEventListener("touchend",b),o.addEventListener("mousedown",h),o.addEventListener("mousemove",E),o.addEventListener("mouseup",b),o.addEventListener("mouseleave",b),g(),y}function p(e){var t=Math.floor(e/60),e=Math.floor(e%60);return t.toString().padStart(2,"0")+":"+e.toString().padStart(2,"0")}[{title:"Храм Александра Невского",images:[{src:"/src/assets/img/main-page/project/1_1_11zon.webp",alt:"Котельная в храме Александра Невского"},{src:"/src/assets/img/main-page/project/2_2_11zon.webp",alt:"Вентиляция в котельной"},{src:"/src/assets/img/main-page/project/3_3_11zon.webp",alt:"Информационный стенд котельной"},{src:"/src/assets/img/main-page/project/4_4_11zon.webp",alt:"Котлы навиен в котельной"},{src:"/src/assets/img/main-page/project/5_5_11zon.webp",alt:"Газовый шкаф открытый"},{src:"/src/assets/img/main-page/project/6_6_11zon.webp",alt:"Новый газовый шкаф"},{src:"/src/assets/img/main-page/project/7_7_11zon.webp",alt:"Газовый счетчик"},{src:"/src/assets/img/main-page/project/8_8_11zon.webp",alt:"Устройство котельной внутри"},{src:"/src/assets/img/main-page/project/9_9_11zon.webp",alt:"Газовый стояк с приборами контроля"},{src:"/src/assets/img/main-page/project/10_10_11zon.webp",alt:"Фасад котельной"}],videoLink:"/src/assets/video/Бурмистрова.mp4"},{title:"Тухачевского 8 ТЦ Москва",images:[{src:"/src/assets/img/main-page/project/11_11_11zon.webp",alt:"Газовый шкаф в ТЦ Москва"},{src:"/src/assets/img/main-page/project/12_12_11zon.webp",alt:"Подключение газового шкафа"},{src:"/src/assets/img/main-page/project/13_13_11zon.webp",alt:"Подключения газа к котельной"},{src:"/src/assets/img/main-page/project/14_14_11zon.webp",alt:"Пайка газовых труб"},{src:"/src/assets/img/main-page/project/15_15_11zon.webp",alt:"Газовая труба"},{src:"/src/assets/img/main-page/project/16_16_11zon.webp",alt:"Траншея с газовой трубой"},{src:"/src/assets/img/main-page/project/17_17_11zon.webp",alt:"Траншея выкопаная под газификацию"},{src:"/src/assets/img/main-page/project/18_18_11zon.webp",alt:"ПВХ труба газовая"},{src:"/src/assets/img/main-page/project/19_19_11zon.webp",alt:"Пояльный аппрат протва"}],videoLink:"/src/assets/video/Москва.mp4"},{title:"Мичурина 62а",images:[{src:"/src/assets/img/main-page/project/20_20_11zon.webp",alt:"Газовый счетчик"},{src:"/src/assets/img/main-page/project/21_21_11zon.webp",alt:"Маленький газовый шкаф"},{src:"/src/assets/img/main-page/project/22_22_11zon.webp",alt:"Газовая труба"},{src:"/src/assets/img/main-page/project/23_23_11zon.webp",alt:"Естествинная винтиляция в доме под газ"},{src:"/src/assets/img/main-page/project/24_24_11zon.webp",alt:"Фасад дома с газовыми трубами"},{src:"/src/assets/img/main-page/project/25_25_11zon.webp",alt:"Труба винтиляции"},{src:"/src/assets/img/main-page/project/26_26_11zon.webp",alt:"Настенный кател Навиен"}],videoLink:"/src/assets/video/Мичурина.mp4"},{title:"пр-кт. Кулакова 24/1",images:[{src:"/src/assets/img/main-page/project/27_27_11zon.webp",alt:"Разводка газовых труб"},{src:"/src/assets/img/main-page/project/28_28_11zon.webp",alt:"Разводка труб в газовой кательной"},{src:"/src/assets/img/main-page/project/29_29_11zon.webp",alt:"Котельная газовая"}],videoLink:"#"}].forEach((e,t)=>{var n="slider"+(t+1),t="dots"+(t+1),s=`
      <div class="project-slider">
        <div class="slider-container">
          <div class="slider" id="${n}"></div>
          <div class="slider-nav">
            <div class="slider-arrow prev">
              <div class="arrow-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-left" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223"/>
                </svg>
              </div>
            </div>
            <div class="slider-arrow next">
              <div class="arrow-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-right" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671"/>
                </svg>
              </div>
            </div>
          </div>
          <div class="slider-dots" id="${t}"></div>
        </div>
        <div class="project-info">
          <h3>${e.title}</h3>
          <a href="${e.videoLink}" class="watch-video">
            <div class="video-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-square-fill" viewBox="0 0 16 16">
                <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.5 10a.5.5 0 0 0 .832.374l4.5-4a.5.5 0 0 0 0-.748l-4.5-4A.5.5 0 0 0 5.5 4z"/>
              </svg>
            </div>
            ${e.videoLink&&"#"!==e.videoLink?"Смотреть видео":"Просмотр недоступен"}
          </a>
        </div>
      </div>
    `;l.insertAdjacentHTML("beforeend",s);let o=m(n,t,e.images);s=document.querySelector("#"+n).parentElement,t=s.querySelector(".prev"),e=s.querySelector(".next");t.addEventListener("click",()=>{o(-1),resetAutoSlide()}),e.addEventListener("click",()=>{o(1),resetAutoSlide()})}),document.querySelectorAll(".watch-video").forEach(e=>{e.addEventListener("click",function(e){"#"===this.getAttribute("href")?e.preventDefault():(e.preventDefault(),e=this.getAttribute("href"),s.src=e,n.classList.add("show"),s.play(),a.textContent="❚❚")})}),o.addEventListener("click",function(){n.classList.remove("show"),s.pause()}),n.addEventListener("click",function(e){e.target===this&&(n.classList.remove("show"),s.pause())}),a.addEventListener("click",function(){s.paused?(s.play(),this.textContent="❚❚"):(s.pause(),this.textContent="▶")}),s.addEventListener("timeupdate",function(){var e=s.currentTime/s.duration*100;i.style.width=e+"%",c.textContent=p(s.currentTime)}),r.addEventListener("click",function(e){e=e.offsetX/this.offsetWidth;s.currentTime=e*s.duration}),s.addEventListener("loadedmetadata",function(){d.textContent=p(s.duration)}),u.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen():n.requestFullscreen().catch(e=>{console.error("Ошибка при переходе в полноэкранный режим: "+e.message)})}),s.addEventListener("ended",function(){a.textContent="▶"}),t.addEventListener("click",function(){l.classList.toggle("collapsed");var e=l.classList.contains("collapsed");t.textContent=e?"Развернуть":"Свернуть",localStorage.setItem("projectsSectionCollapsed",e)}),null===(e=localStorage.getItem("projectsSectionCollapsed"))||"true"===e?(l.classList.add("collapsed"),t.textContent="Развернуть"):(l.classList.remove("collapsed"),t.textContent="Свернуть")}),document.addEventListener("DOMContentLoaded",function(){let s=document.getElementById("quizForm"),n=document.getElementById("currentQuestion"),o=document.querySelector(".progress-fill"),t=document.getElementById("errorModal"),l=document.getElementById("thankModal"),a=[{question:"Какой объект планируете газифицировать?",answers:["Жилой дом","Садовый дом","Коммерческий или промышленный объект","Другое"]},{question:"На каком расстоянии от границы земельного участка расположен газопровод, к которому возможно осуществить подключение?",answers:["Газопровод проходит по участку","В пределах 5 метров","От 10 до 20 метров от участка","От 30 до 50 метров от участка","Подземный газопровод","Нет информации"]},{question:"Давление газа в точке подключения?",answers:["Низкое давление Г1","Среднее давление Г2","Высокое давление Г3","Нет информации"]},{question:"Вы уже определились с газовым оборудованием, которое хотите установить?",answers:["Да","Выбираем, нужна помощь","Нет"]},{question:"В каком населенном пункте расположен Ваш объект?",answers:["Ставрополь","Невинномысск","Михайловск","Изобильный","Ближайшие 100 километров"]}],r=0,i={};function c(){n.textContent=r+1,o.style.width=20*(r+1)+"%";var e=a[r];let t=`
      <div class="question-container">
        <h3 class="question-title">${e.question}</h3>
        <select class="answer-select" name="question${r}" required>
          <option value="" selected disabled>Выберите ответ</option>
    `;e.answers.forEach(e=>{t+=`<option value="${e}">${e}</option>`}),t+='</select><div class="quiz-navigation">',0<r?t+='<button type="button" class="quiz-btn btn-back">Назад</button>':t+="<div></div>",r<a.length-1?t+='<button type="button" class="quiz-btn btn-next" disabled>Далее</button>':t+='<button type="button" class="quiz-btn btn-submit" disabled>Получить результат</button>',t+="</div></div>",s.innerHTML=t,s.querySelector(".answer-select").addEventListener("change",function(){i["question"+r]=this.value;var e=s.querySelector(".btn-next"),t=s.querySelector(".btn-submit");e&&(e.disabled=!1),t&&(t.disabled=!1)}),0<r&&s.querySelector(".btn-back").addEventListener("click",u),r<a.length-1?s.querySelector(".btn-next").addEventListener("click",d):s.querySelector(".btn-submit").addEventListener("click",m)}function d(){s.querySelector(".answer-select").value?(r++,c()):t.style.display="flex"}function u(){r--,c()}function m(){if(s.querySelector(".answer-select").value){s.innerHTML=`
      <form class="question-container">
        <h3 class="question-title">Оставьте контактные данные для получения расчета</h3>
        
        <div class="quiz-form-group">
          <label for="name">Ваше имя</label>
          <input type="text" id="name" name="name" required>
        </div>
        
        <div class="quiz-form-group">
          <label for="phone">Ваш телефон</label>
          <input type="tel" id="phone" name="phone" required pattern="[+]{0,1}[0-9]{10,15}" title="Введите корректный номер телефона">
          <small class="error-message" style="display:none;color:red;">Пожалуйста, введите корректный номер телефона</small>
        </div>
        
        <div class="quiz-checkbox-group">
          <div class="quiz-checkbox-item">
            <input type="checkbox" id="consent" name="consent" required>
            <label for="consent">Я согласен на обработку персональных данных</label>
          </div>
        </div>
        
        <button type="submit" class="quiz-btn btn-submit">Получить расчет</button>
      </form>
    `;let t=s.querySelector("#phone"),n=s.querySelector(".error-message");t.addEventListener("input",function(){var e=this.checkValidity();n.style.display=e?"none":"block"}),s.addEventListener("submit",function(e){if(e.preventDefault(),t.checkValidity()){let s=`📌 Новая заявка 🔥🔥🔥

`;s=(s+=`👤 Имя: ${this.name.value}
`)+`📞 Телефон: ${this.phone.value}

`+`📋 Ответы на вопросы:
`,a.forEach((e,t)=>{var n="question"+t;s+=`
${t+1}. ${e.question}
➡ ${i[n]||"Нет ответа"}
`}),s+=`
🌐 Квиз опросник`;e=[682859146,258608199].map(e=>{e=`https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage?chat_id=${e}&text=`+encodeURIComponent(s);return fetch(e)});Promise.all(e).then(e=>{e.forEach(e=>{if(!e.ok)throw new Error("Ошибка при отправке в Telegram")}),l.style.display="flex",this.reset(),r=0,Object.keys(i).forEach(e=>delete i[e]),setTimeout(()=>{l.style.display="none",c()},5e3)}).catch(e=>{console.error("Ошибка:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}else n.style.display="block"})}else t.style.display="flex"}c(),document.querySelectorAll(".close-modal").forEach(e=>{e.addEventListener("click",function(){t.style.display="none",l.style.display="none"})}),window.addEventListener("click",function(e){e.target!==t&&e.target!==l||(t.style.display="none",l.style.display="none")})}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".documents-marquee");let n=document.querySelector(".documents-marquee-content"),t=document.getElementById("documentsModal"),s=document.getElementById("documentsExpandedImage");var e=document.querySelector(".documents-modal-close"),o=(n.style.animationDuration="15s",n.querySelectorAll("li"));o.length;for(let e=0;e<5;e++)n.appendChild(o[e].cloneNode(!0));let l=0,a=!1,r=0,i=0,c=!1;function d(e){"touchstart"===e.type?l=e.touches[0].clientX:(l=e.clientX,e.preventDefault()),a=!0,p();e=window.getComputedStyle(n),e=new WebKitCSSMatrix(e.transform);r=e.m41}function u(t){if(a){let e;e=("touchmove"===t.type?t.touches[0]:t).clientX,t.preventDefault();t=e-l;n.style.transform=`translateX(${r+t}px)`}}function m(){a=!1,c||y()}function p(){c=!0,n.style.animationPlayState="paused",cancelAnimationFrame(i)}function y(){c=!1,n.style.animationPlayState="running"}n.addEventListener("mousedown",d),n.addEventListener("touchstart",d,{passive:!1}),n.addEventListener("mousemove",u),n.addEventListener("touchmove",u,{passive:!1}),n.addEventListener("mouseup",m),n.addEventListener("mouseleave",m),n.addEventListener("touchend",m),document.querySelectorAll(".document-view-btn").forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation();e=this.closest(".document-image-container").querySelector("img");s.src=e.src,s.alt=e.alt,t.style.display="block",document.body.style.overflow="hidden"})}),document.querySelectorAll(".document-download-btn").forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation();let n=this.closest(".document-image-container").querySelector("img").dataset.pdf;n&&fetch(n).then(e=>e.blob()).then(e=>{var e=window.URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download=n.split("/").pop(),document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(e),document.body.removeChild(t)}).catch(e=>{console.error("Ошибка при загрузке PDF:",e);e=document.createElement("a");e.href=n,e.download=n.split("/").pop(),document.body.appendChild(e),e.click(),document.body.removeChild(e)})})}),document.querySelectorAll(".documents-marquee-content img").forEach(e=>{e.addEventListener("click",function(){s.src=this.src,s.alt=this.alt,t.style.display="block",document.body.style.overflow="hidden"})}),e.addEventListener("click",function(){t.style.display="none",document.body.style.overflow="auto"}),t.addEventListener("click",function(e){e.target===t&&(t.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(e){"Escape"===e.key&&"block"===t.style.display&&(t.style.display="none",document.body.style.overflow="auto")}),n.addEventListener("mouseenter",function(){p()}),n.addEventListener("mouseleave",function(){a||y()})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("contactHelpForm"),n=document.getElementById("contactHelpPhone"),s=document.querySelector(".contact-help-error-msg"),o=document.getElementById("contactHelpModal");var e=document.querySelector(".contact-help-close-modal");n.addEventListener("input",function(){this.value.match(/^(\+7|7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/)?(this.classList.remove("contact-help-input-error"),s.style.display="none"):(this.classList.add("contact-help-input-error"),s.textContent="Введите корректный номер телефона",s.style.display="block")}),t.addEventListener("submit",function(e){e.preventDefault(),n.value.match(/^(\+7|7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/)?document.getElementById("contactHelpAgreement").checked?(console.log("Форма отправлена:",{name:document.getElementById("contactHelpName").value,phone:document.getElementById("contactHelpPhone").value}),o.style.display="block",t.reset()):alert("Пожалуйста, дайте согласие на обработку данных"):(n.classList.add("contact-help-input-error"),s.textContent="Пожалуйста, введите корректный номер телефона",s.style.display="block")}),e.addEventListener("click",function(){o.style.display="none"}),window.addEventListener("click",function(e){e.target==o&&(o.style.display="none")})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".faq-custom-item");e.forEach(t=>{t.querySelector(".faq-custom-question").addEventListener("click",()=>{e.forEach(e=>{e!==t&&e.classList.contains("active")&&e.classList.remove("active")}),t.classList.toggle("active")})})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t,n,e=this.getAttribute("href");"#"!==e&&(t=document.querySelector(e))&&(n=document.querySelector("header").offsetHeight,t=t.getBoundingClientRect().top+window.pageYOffset-n,window.scrollTo({top:t,behavior:"smooth"}),history.pushState?history.pushState(null,null,e):location.hash=e,n=document.querySelector(".mobile-menu.active"))&&n.classList.remove("active")})}),window.addEventListener("DOMContentLoaded",function(){window.scrollTo(0,0)}),document.addEventListener("DOMContentLoaded",function(){let o=document.querySelector(".contact-form"),l=document.getElementById("calcThankYouOverlay");var e=document.getElementById("calcThankYouBtn");o.addEventListener("submit",function(t){t.preventDefault();var t=document.getElementById("name").value.trim(),n=document.getElementById("phone").value.trim(),s=document.getElementById("consent").checked;if(t)if(n)if(s){s=n.replace(/\D/g,"");let e;n=`📌 Новая заявка на расчет:

👤 Имя: ${t}
📞 Телефон: ${e=s.startsWith("8")?"+7"+s.substring(1):s.startsWith("7")?"+"+s:(s.startsWith("9"),"+7"+s)}
🌐 Источник: Форма "Заказать расчет"`;fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:"682859146",text:n})}).then(e=>e.json()).then(e=>{if(!e.ok)throw new Error("Ошибка при отправке");l.style.display="flex",document.body.classList.add("calc-modal-open"),o.reset()}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}else alert("Пожалуйста, дайте согласие на обработку персональных данных");else alert("Пожалуйста, введите ваш телефон");else alert("Пожалуйста, введите ваше имя")}),e.addEventListener("click",function(){l.style.display="none",document.body.classList.remove("calc-modal-open")}),l.addEventListener("click",function(e){e.target===l&&(l.style.display="none",document.body.classList.remove("calc-modal-open"))})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("consultModalOverlay");var e=document.querySelectorAll(".consultation-btn, .mobile-btn"),n=document.querySelector(".consult-modal-close-btn");let s=document.getElementById("consultModalForm"),o=document.getElementById("consult-phone"),l=document.getElementById("consult-phone-error"),a=document.getElementById("consultFormContent"),r=document.getElementById("consultThankYou");var i=document.getElementById("consultThankYouBtn");function c(){t.style.display="none",document.body.classList.remove("consult-modal-open"),s.reset(),a.style.display="block",r.style.display="none"}o.addEventListener("input",function(e){let t=this.value.replace(/\D+/g,""),n="";n=t.startsWith("7")||t.startsWith("8")?(t=t.substring(1),"+7 ("):t.startsWith("9")?"+7 (":t,0<t.length&&(n+=t.substring(0,3)),3<t.length&&(n+=") "+t.substring(3,6)),6<t.length&&(n+="-"+t.substring(6,8)),8<t.length&&(n+="-"+t.substring(8,10)),this.value=n}),e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex",document.body.classList.add("consult-modal-open")})}),n.addEventListener("click",c),i.addEventListener("click",c),t.addEventListener("click",function(e){e.target===t&&c()}),s.addEventListener("submit",function(n){n.preventDefault();var n=document.getElementById("consult-name").value.trim(),s=o.value.trim(),e=document.getElementById("consult-privacy-policy").checked;let t=!0;if(""===n?(t=!1,document.getElementById("consult-name").style.borderColor="red"):document.getElementById("consult-name").style.borderColor="#ddd",/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(s)?(o.style.borderColor="#ddd",l.style.display="none"):(t=!1,o.style.borderColor="red",l.textContent="Введите корректный номер телефона",l.style.display="block"),e?document.getElementById("consult-privacy-policy").nextElementSibling.style.color="":(t=!1,document.getElementById("consult-privacy-policy").nextElementSibling.style.color="red"),t){let e=s.replace(/\D+/g,"");e.startsWith("8")?e="7"+e.substring(1):e.startsWith("9")&&(e="7"+e);let t=`Новая заявка 🔥🔥🔥:

👤 Имя: ${n}
📞 Телефон: +${e} 
🌐 Источник: Кнопка консультация`;Promise.all(["682859146","258608199"].map(e=>fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t})}))).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{if(!e.some(e=>e.ok))throw new Error("Не удалось отправить ни одного сообщения");a.style.display="none",r.style.display="block"}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("requestModalOverlay");var e=document.querySelector(".cta-button"),n=document.querySelector(".request-modal-close-btn");let s=document.getElementById("requestModalForm"),l=document.getElementById("request-phone"),a=document.getElementById("request-phone-error"),r=document.getElementById("requestFormContent"),i=document.getElementById("requestThankYou");var o=document.getElementById("requestThankYouBtn");function c(){t.style.display="none",document.body.classList.remove("request-modal-open"),s.reset(),r.style.display="block",i.style.display="none"}l.addEventListener("input",function(e){let t=this.value.replace(/\D+/g,""),n="";n=t.startsWith("7")||t.startsWith("8")?(t=t.substring(1),"+7 ("):t.startsWith("9")?"+7 (":t,0<t.length&&(n+=t.substring(0,3)),3<t.length&&(n+=") "+t.substring(3,6)),6<t.length&&(n+="-"+t.substring(6,8)),8<t.length&&(n+="-"+t.substring(8,10)),this.value=n}),e.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex",document.body.classList.add("request-modal-open"),r.style.display="block",i.style.display="none"}),n.addEventListener("click",c),o.addEventListener("click",c),t.addEventListener("click",function(e){e.target===t&&c()}),s.addEventListener("submit",function(n){n.preventDefault();var n=document.getElementById("request-name").value.trim(),s=l.value.trim(),o=document.getElementById("request-privacy-policy").checked;let e=!0;if(""===n?(e=!1,document.getElementById("request-name").style.borderColor="red"):document.getElementById("request-name").style.borderColor="#ddd",/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(s)?(l.style.borderColor="#ddd",a.style.display="none"):(e=!1,l.style.borderColor="red",a.textContent="Введите корректный номер телефона",a.style.display="block"),o?document.getElementById("request-privacy-policy").nextElementSibling.style.color="":(e=!1,document.getElementById("request-privacy-policy").nextElementSibling.style.color="red"),e){let e=s.replace(/\D+/g,"");e.startsWith("8")?e="7"+e.substring(1):e.startsWith("9")&&(e="7"+e);let t=`Новая заявка 🔥🔥🔥:

👤 Имя: ${n}
📞 Телефон: +${e}
🌐 Источник: Карточка "Остались вопросы"`;o=["682859146","258608199"].map(e=>fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t})}));Promise.all(o).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{if(!e.some(e=>e.ok))throw new Error("Не удалось отправить ни одно сообщение");r.style.display="none",i.style.display="block"}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("detailsModalOverlay");var e=document.querySelector(".president-btn"),n=document.querySelector(".details-modal-close-btn");let s=document.getElementById("detailsModalForm"),o=document.getElementById("details-phone"),l=document.getElementById("details-phone-error"),a=document.getElementById("detailsThankYou");var r=document.getElementById("detailsThankYouBtn");let i=document.querySelector(".details-modal-content");function c(){t.style.display="none",document.body.classList.remove("details-modal-open"),s.reset(),i.style.display="block",a.style.display="none"}o.addEventListener("input",function(e){let t=this.value.replace(/\D+/g,""),n="";n=t.startsWith("7")||t.startsWith("8")?(t=t.substring(1),"+7 ("):t.startsWith("9")?"+7 (":t,0<t.length&&(n+=t.substring(0,3)),3<t.length&&(n+=") "+t.substring(3,6)),6<t.length&&(n+="-"+t.substring(6,8)),8<t.length&&(n+="-"+t.substring(8,10)),this.value=n}),e.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex",document.body.classList.add("details-modal-open")}),n.addEventListener("click",c),r.addEventListener("click",c),t.addEventListener("click",function(e){e.target===t&&c()}),s.addEventListener("submit",function(n){n.preventDefault();var n=document.getElementById("details-name").value.trim(),s=o.value.trim(),e=document.getElementById("details-privacy-policy").checked;let t=!0;if(""===n?(t=!1,document.getElementById("details-name").style.borderColor="red"):document.getElementById("details-name").style.borderColor="#ddd",/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(s)?(o.style.borderColor="#ddd",l.style.display="none"):(t=!1,o.style.borderColor="red",l.textContent="Введите корректный номер телефона",l.style.display="block"),e?document.getElementById("details-privacy-policy").nextElementSibling.style.color="":(t=!1,document.getElementById("details-privacy-policy").nextElementSibling.style.color="red"),t){let e=s.replace(/\D+/g,"");e.startsWith("8")?e="7"+e.substring(1):e.startsWith("9")&&(e="7"+e);let t=`Новая заявка 🔥🔥🔥:

👤 Имя: ${n}
📞 Телефон: +${e} 
🌐 Источник: О бесплатной газификации`;Promise.all(["682859146","258608199"].map(e=>fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t})}))).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{if(!e.some(e=>e.ok))throw new Error("Не удалось отправить ни одного сообщения");i.style.display="none",a.style.display="block"}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("gasStepModalOverlay");var e=document.querySelector(".gas-step-button"),n=document.querySelector(".gas-step-modal-close-btn");let s=document.getElementById("gasStepModalForm"),l=document.getElementById("gas-step-phone"),a=document.getElementById("gas-step-phone-error"),r=document.getElementById("gasStepFormContent"),i=document.getElementById("gasStepThankYou");var o=document.getElementById("gasStepThankYouBtn");function c(){t.style.display="none",document.body.classList.remove("gas-step-modal-open"),s.reset(),r.style.display="block",i.style.display="none"}l.addEventListener("input",function(e){let t=this.value.replace(/\D+/g,""),n="";n=t.startsWith("7")||t.startsWith("8")?(t=t.substring(1),"+7 ("):t.startsWith("9")?"+7 (":t,0<t.length&&(n+=t.substring(0,3)),3<t.length&&(n+=") "+t.substring(3,6)),6<t.length&&(n+="-"+t.substring(6,8)),8<t.length&&(n+="-"+t.substring(8,10)),this.value=n}),e.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex",document.body.classList.add("gas-step-modal-open"),r.style.display="block",i.style.display="none"}),n.addEventListener("click",c),o.addEventListener("click",c),t.addEventListener("click",function(e){e.target===t&&c()}),s.addEventListener("submit",function(n){n.preventDefault();var n=document.getElementById("gas-step-name").value.trim(),s=l.value.trim(),o=document.getElementById("gas-step-privacy-policy").checked;let e=!0;if(""===n?(e=!1,document.getElementById("gas-step-name").style.borderColor="red"):document.getElementById("gas-step-name").style.borderColor="#ddd",/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(s)?(l.style.borderColor="#ddd",a.style.display="none"):(e=!1,l.style.borderColor="red",a.textContent="Введите корректный номер телефона",a.style.display="block"),o?document.getElementById("gas-step-privacy-policy").nextElementSibling.style.color="":(e=!1,document.getElementById("gas-step-privacy-policy").nextElementSibling.style.color="red"),e){let e=s.replace(/\D+/g,"");e.startsWith("8")?e="7"+e.substring(1):e.startsWith("9")&&(e="7"+e);let t=`Новая заявка 🔥🔥🔥:

👤 Имя: ${n}
📞 Телефон: +${e} 
🌐 Источник: Что нужно для работы (блок) нужна консультация `;o=["682859146","258608199"].map(e=>fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t})}));Promise.all(o).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{e.every(e=>e.ok)?(r.style.display="none",i.style.display="block"):alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")})}})}),document.addEventListener("DOMContentLoaded",function(){let o=document.getElementById("contactHelpForm"),l=document.querySelector(".js-contact-help-submit"),t=document.getElementById("contactHelpPhone"),a=document.querySelector(".js-contact-help-phone-error"),r=document.querySelector(".js-contact-help-thankyou-modal");var e=document.querySelector(".js-contact-help-thankyou-close");function i(e){return/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e)}t.addEventListener("input",function(e){i(e.target.value)?(a.style.display="none",t.classList.remove("error")):(a.style.display="block",a.textContent="Введите корректный номер телефона (начинается с 8 или +7)",t.classList.add("error"))}),o.addEventListener("submit",function(n){if(n.preventDefault(),o.checkValidity()){n=t.value;if(i(n)){var n=(e=>{let t=e.replace(/\D/g,"");return 11===t.length?"+"+(t="8"===t[0]?"7"+t.slice(1):t):10===t.length?"+7"+t:e})(n),s=document.getElementById("contactHelpName").value;{let t=`Новая заявка 🔥🔥🔥:

👤 Имя: ${s}
📞 Телефон: +${n} 
🌐 Источник: Блок контакты `,e=["682859146","258608199"].map(e=>fetch("https://api.telegram.org/bot8178591992:AAEv1_IhHBIWNBET9_xI0cJL4iZI-MF4gA4/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t})}));l.disabled=!0,l.textContent="Отправка...",Promise.all(e).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{e.every(e=>e.ok)?(r.style.display="flex",o.reset()):alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")}).catch(e=>{console.error("Error:",e),alert("Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже.")}).finally(()=>{l.disabled=!1,l.textContent="Нужна помощь"})}}else a.style.display="block",a.textContent="Введите корректный номер телефона (начинается с 8 или +7)",t.classList.add("error")}}),e.addEventListener("click",function(){r.style.display="none"}),window.addEventListener("click",function(e){e.target===r&&(r.style.display="none")})}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".js-egs-whatsapp-btn"),e=document.querySelector(".benefits-section");t&&e&&(new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(t.style.display="block")})},{threshold:.1}).observe(e),setTimeout(()=>{window.scrollY>=e.offsetTop-.9*window.innerHeight&&(t.style.display="block")},3e3))}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".price-toggle-btn");let t=document.querySelectorAll(".price-table-row.hidden"),n=!1;e.addEventListener("click",function(){n=!n,this.setAttribute("aria-expanded",n),this.querySelector(".price-toggle-text").textContent=n?"Свернуть":"Показать все услуги",n?t.forEach((e,t)=>{setTimeout(()=>{e.classList.add("expanded"),e.style.display="table-row"},50*t)}):t.forEach(e=>{e.classList.remove("expanded"),e.style.display="none"})}),t.forEach(e=>{e.style.display="none"})}),document.addEventListener("DOMContentLoaded",function(){var e="loading"in HTMLImageElement.prototype,t=document.querySelectorAll('img[loading="lazy"]');if(!e&&(t.forEach(e=>{var t;e.complete||e.getAttribute("data-loaded")||((t=new Image).src=e.src,t.onload=function(){e.setAttribute("data-loaded","true")})}),"IntersectionObserver"in window)){let n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&((e=e.target).src=e.dataset.src||e.src,n.unobserve(e))})});t.forEach(function(e){e.dataset.src||(e.dataset.src=e.src),n.observe(e)})}});