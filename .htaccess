<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Редирект с www на без www (или наоборот)
    RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
    RewriteRule ^(.*)$ https://%1/$1 [R=301,L]
    
    # Редирект с HTTP на HTTPS
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [R=301,L]
    
    # Удаление слеша в конце URL
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)/$ /$1 [R=301,L]
    
    # ЧПУ для главной страницы
    RewriteRule ^$ /index.html [L]
    
    # ЧПУ для основных страниц
    RewriteRule ^novosti/?$ /src/pages/novosti/novosti.html [L]
    RewriteRule ^politika-konfidentsialnosti/?$ /src/pages/politika-konfidentsialnosti/politika-konfidentsialnosti.html [L]
    RewriteRule ^proyektirovaniye/?$ /src/pages/proyektirovaniye/proyektirovaniye.html [L]
    
    # ЧПУ для новостей
    RewriteRule ^novosti/gazifikaciya/([a-z0-9-]+)/?$ /src/pages/novosti/novostnyye-stranitsy/gazifikaciya/$1.html [L]
    
    # Редиректы старых URL
    Redirect 301 /old-news /novosti
    Redirect 301 /projects /proyektirovaniye
    
    # Обработка 404 ошибки
    ErrorDocument 404 /src/pages/404.html
</IfModule>